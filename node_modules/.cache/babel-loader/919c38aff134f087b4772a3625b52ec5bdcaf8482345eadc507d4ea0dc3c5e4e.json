{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AdminUserPage=()=>{const[users,setUsers]=useState([]);useEffect(()=>{// Fetch user data when the component mounts\nfetchUserList();},[]);const fetchUserList=async()=>{try{const token=sessionStorage.getItem(\"accessToken\");// Fetch user list data from the API\nconst response=await fetch(\"https://student360-api.onrender.com/api/user/all\",{headers:{Authorization:\"\".concat(token)}});if(!response.ok){throw new Error(\"Failed to fetch user list\");}const userData=await response.json([]);setUsers(userData[\"All users\"]||[]);// Ensure users array is defined or use an empty array\nconsole.log(userData);}catch(error){console.error(\"Error fetching user list:\",error);alert(\"Failed to fetch user list. Please try again.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-8 \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-8 text-[#3B50FE]\",children:\"Admin\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto border border-[#3B50FE] rounded-2xl p-4 text-left w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"University\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Department\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Level\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsx(UserDetail,{user:user},user.id))})]})]});};const UserDetail=_ref=>{let{user}=_ref;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:user.full_name||\"Not available\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:user.email||\"Not available\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:user.university||\"Not available\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:user.department||\"Not available\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:user.level||\"Not available\"})]});};export default AdminUserPage;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","AdminUserPage","users","setUsers","fetchUserList","token","sessionStorage","getItem","response","fetch","headers","Authorization","concat","ok","Error","userData","json","console","log","error","alert","className","children","map","user","UserDetail","id","_ref","full_name","email","university","department","level"],"sources":["/Users/mac/Documents/Coding/admin-studenthub360/src/Component/Admin/Users.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst AdminUserPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch user data when the component mounts\r\n    fetchUserList();\r\n  }, []);\r\n\r\n  const fetchUserList = async () => {\r\n    try {\r\n      const token = sessionStorage.getItem(\"accessToken\");\r\n\r\n      // Fetch user list data from the API\r\n      const response = await fetch(\r\n        \"https://student360-api.onrender.com/api/user/all\",\r\n        {\r\n          headers: {\r\n            Authorization: `${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch user list\");\r\n      }\r\n\r\n      const userData = await response.json([]);\r\n      setUsers(userData[\"All users\"] || []); // Ensure users array is defined or use an empty array\r\n      console.log(userData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching user list:\", error);\r\n      alert(\"Failed to fetch user list. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto mt-8 \">\r\n      <h1 className=\"text-3xl font-bold mb-8 text-[#3B50FE]\">Admin</h1>\r\n\r\n      <table className=\"table-auto border border-[#3B50FE] rounded-2xl p-4 text-left w-full\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"px-4 py-2\">Name</th>\r\n            <th className=\"px-4 py-2\">Email</th>\r\n            <th className=\"px-4 py-2\">University</th>\r\n            <th className=\"px-4 py-2\">Department</th>\r\n            <th className=\"px-4 py-2\">Level</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map((user) => (\r\n            <UserDetail key={user.id} user={user} />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst UserDetail = ({ user }) => (\r\n  <tr className=\"border-b\">\r\n    <td className=\"px-4 py-2\">{user.full_name || \"Not available\"}</td>\r\n    <td className=\"px-4 py-2\">{user.email || \"Not available\"}</td>\r\n    <td className=\"px-4 py-2\">{user.university || \"Not available\"}</td>\r\n    <td className=\"px-4 py-2\">{user.department || \"Not available\"}</td>\r\n    <td className=\"px-4 py-2\">{user.level || \"Not available\"}</td>\r\n  </tr>\r\n);\r\n\r\nexport default AdminUserPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}